[defaults]
# 基础配置
inventory = ./inventory/hosts
forks = 20
become = true
become_method = sudo
become_user = root
remote_port = 22

# 连接配置
host_key_checking = false
timeout = 10
pipelining = true

# 输出配置
display_skipped_hosts = false
ansible_managed = Ansible managed: {file} modified on %Y-%m-%d %H:%M:%S by {uid} on {host}

# 目录配置
roles_path = ./roles:~/.ansible/roles:/usr/share/ansible/roles:/etc/ansible/roles
collections_paths = ./collections:~/.ansible/collections:/usr/share/ansible/collections
library = ./library
filter_plugins = ./filter_plugins
callback_plugins = ./callback_plugins
callbacks_enabled = profile_tasks, timer
callback_whitelist = profile_tasks

# 日志配置
log_path = ./ansible.log
log_level = info

# 变量配置
group_vars = ./group_vars
host_vars = ./host_vars

# 其他配置
nocows = 1
interpreter_python = /usr/bin/python3

[privilege_escalation]
become_ask_pass = false

[ssh_connection]
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null
control_path_dir = ~/.ansible/cp
